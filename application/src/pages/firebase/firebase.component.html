<!--
  File: src/pages/firebase/firebase.component.html
  Project: fireCNC
  Author: Mark Dyer
  Location: Blenheim, New Zealand
  Contact: intelliservenz@gmail.com

  Description:
  Template for the Firebase settings page.
-->
<main class="flex-grow">
  <form [formGroup]="firebaseForm" (ngSubmit)="onSave()" class="space-y-6">
    <div class="bg-gray-800/50 border border-gray-700 rounded-lg p-6 shadow-lg">
      <div class="flex flex-col sm:flex-row justify-between sm:items-center mb-6 gap-4">
        <h2 class="text-2xl font-bold text-gray-200 flex items-center">
          <i class="fa-solid fa-cloud mr-3 text-orange-400"></i>
          Firebase Realtime Database
        </h2>
        <div class="flex items-center gap-4">
          <span class="font-semibold" [class]="getStatusColorClass()">
            Status: {{ connectionStatus() }}
          </span>
          <button type="button" (click)="onDisconnect()"
                  class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200">
            Disconnect
          </button>
        </div>
      </div>
      
      <p class="text-gray-400 text-sm mb-6">
        Configure a Firebase Realtime Database to sync and persist your application state across devices. 
        Create a project in the <a href="https://console.firebase.google.com/" target="_blank" rel="noopener noreferrer" class="text-orange-400 hover:underline">Firebase Console</a>,
        add a web app, and copy the configuration values below.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label for="apiKey" class="block mb-2 text-sm font-medium text-gray-300">API Key</label>
          <input type="text" id="apiKey" formControlName="apiKey" class="bg-gray-700 border border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5">
        </div>
        <div>
          <label for="authDomain" class="block mb-2 text-sm font-medium text-gray-300">Auth Domain</label>
          <input type="text" id="authDomain" formControlName="authDomain" class="bg-gray-700 border border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5">
        </div>
        <div class="md:col-span-2">
          <label for="databaseURL" class="block mb-2 text-sm font-medium text-gray-300">Database URL</label>
          <input type="text" id="databaseURL" formControlName="databaseURL" class="bg-gray-700 border border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5">
        </div>
        <div>
          <label for="projectId" class="block mb-2 text-sm font-medium text-gray-300">Project ID</label>
          <input type="text" id="projectId" formControlName="projectId" class="bg-gray-700 border border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5">
        </div>
        <div>
          <label for="storageBucket" class="block mb-2 text-sm font-medium text-gray-300">Storage Bucket</label>
          <input type="text" id="storageBucket" formControlName="storageBucket" class="bg-gray-700 border border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5">
        </div>
        <div>
          <label for="messagingSenderId" class="block mb-2 text-sm font-medium text-gray-300">Messaging Sender ID</label>
          <input type="text" id="messagingSenderId" formControlName="messagingSenderId" class="bg-gray-700 border border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5">
        </div>
        <div>
          <label for="appId" class="block mb-2 text-sm font-medium text-gray-300">App ID</label>
          <input type="text" id="appId" formControlName="appId" class="bg-gray-700 border border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5">
        </div>
      </div>
    </div>
    <div class="flex justify-end">
      <button type="submit" [disabled]="!firebaseForm.dirty || firebaseForm.invalid"
              class="bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 disabled:cursor-not-allowed text-white font-bold py-2 px-6 rounded-lg transition-colors duration-200 shadow-md">
        Save & Connect
      </button>
    </div>
  </form>
</main>