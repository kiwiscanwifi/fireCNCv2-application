<main class="flex-grow">
  <div class="bg-gray-800/50 border border-gray-700 rounded-lg p-6 shadow-lg h-full">
    <h2 class="text-xl font-bold text-gray-200 flex items-center mb-4">
      <i class="fa-solid fa-cloud-bolt mr-3 text-orange-400"></i>
      Firebase Integration (Simulated)
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Configuration Form -->
      <div class="bg-gray-900/50 p-4 rounded-lg border border-gray-700">
        <h3 class="font-bold text-gray-300 text-base mb-3">Configuration</h3>
        <form [formGroup]="configForm" class="space-y-3">
          <div>
            <label for="apiKey" class="block mb-1 text-sm font-medium text-gray-400">API Key</label>
            <input type="text" id="apiKey" formControlName="apiKey"
                   class="bg-gray-700 border border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5">
          </div>
          <div>
            <label for="projectId" class="block mb-1 text-sm font-medium text-gray-400">Project ID</label>
            <input type="text" id="projectId" formControlName="projectId"
                   class="bg-gray-700 border border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5">
          </div>
        </form>
      </div>

      <!-- Status & Actions -->
      <div class="bg-gray-900/50 p-4 rounded-lg border border-gray-700 flex flex-col justify-between">
        <div>
          <h3 class="font-bold text-gray-300 text-base mb-3">Status</h3>
          <div class="flex items-center gap-3">
            @switch(firebaseService.status()) {
              @case('connected') {
                <span class="px-3 py-1 text-sm font-semibold text-green-200 bg-green-900/50 border border-green-700 rounded-full">Connected</span>
              }
              @case('connecting') {
                <span class="px-3 py-1 text-sm font-semibold text-yellow-200 bg-yellow-900/50 border border-yellow-700 rounded-full animate-pulse">Connecting...</span>
              }
              @case('error') {
                <span class="px-3 py-1 text-sm font-semibold text-red-200 bg-red-900/50 border border-red-700 rounded-full">Error</span>
              }
              @default {
                <span class="px-3 py-1 text-sm font-semibold text-gray-300 bg-gray-700/50 border border-gray-600 rounded-full">Unconfigured</span>
              }
            }
          </div>
          @if (firebaseService.errorMessage(); as error) {
            <p class="text-xs text-red-400 mt-2">{{ error }}</p>
          }
          @if (firebaseService.lastSync(); as lastSync) {
            <p class="text-xs text-gray-400 mt-2">Last sync: {{ lastSync | date:'medium' }}</p>
          }
        </div>
        <div class="flex gap-3 mt-4">
          <button (click)="connect()" [disabled]="firebaseService.status() === 'connecting' || firebaseService.status() === 'connected'"
                  class="flex-1 bg-green-600 hover:bg-green-700 disabled:bg-green-600/50 disabled:cursor-not-allowed text-white font-bold py-2 px-4 rounded-lg transition-colors">
            Connect
          </button>
          <button (click)="disconnect()" [disabled]="firebaseService.status() === 'unconfigured'"
                  class="flex-1 bg-red-600 hover:bg-red-700 disabled:bg-red-600/50 disabled:cursor-not-allowed text-white font-bold py-2 px-4 rounded-lg transition-colors">
            Disconnect
          </button>
          <button (click)="sync()" [disabled]="firebaseService.status() !== 'connected'"
                  class="flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 disabled:cursor-not-allowed text-white font-bold py-2 px-4 rounded-lg transition-colors">
            Sync Now
          </button>
        </div>
      </div>
    </div>
     <p class="text-xs text-gray-500 mt-4 text-center">
        This is a simulated interface. Connecting will not establish a real Firebase connection.
    </p>
  </div>
</main>
