<main class="flex-grow">
  <!-- Header for Title and Action Buttons -->
  <div class="mb-4">
    <div class="flex flex-col sm:flex-row justify-between sm:items-center gap-4">
      <!-- Title and Expand/Collapse All buttons -->
      <div class="flex items-center gap-4">
        <h2 class="text-xl font-bold text-gray-200 flex items-center">
            <i class="fa-solid fa-sliders mr-3 text-orange-400"></i>
            Settings
        </h2>
        <button type="button" (click)="toggleAllSections()" class="flex bg-gray-700 hover:bg-gray-600 text-gray-300 font-bold py-2 px-4 rounded-lg transition-colors duration-200 items-center text-sm">
          @if (allSectionsOpen()) {
            <i class="fa-solid fa-compress mr-2"></i>
            <span>Collapse All</span>
          } @else {
            <i class="fa-solid fa-expand mr-2"></i>
            <span>Expand All</span>
          }
        </button>
      </div>
      <div class="flex items-center gap-4">
        <button type="button" (click)="resetAllSettings()" [disabled]="!mainSettingsForm.dirty"
          class="bg-gray-600 hover:bg-gray-700 disabled:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-2 px-6 rounded-lg transition-colors duration-200">
          Reset
        </button>
        <button type="submit"
          form="mainSettingsForm"
          [disabled]="!mainSettingsForm.dirty || mainSettingsForm.invalid"
          class="bg-orange-500 hover:bg-orange-600 disabled:bg-orange-500/50 disabled:cursor-not-allowed text-white font-bold py-2 px-6 rounded-lg transition-colors duration-200 shadow-md">
          Save
        </button>
      </div>
    </div>
  </div>

  <!-- Main content card -->
  <div class="bg-gray-800/50 border border-gray-700 rounded-lg p-6 shadow-lg">
    <form id="mainSettingsForm" [formGroup]="mainSettingsForm" (ngSubmit)="saveAllSettings()" class="space-y-6">
      <!-- Content Grid -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
        <!-- Column 1 -->
        <div class="space-y-4">
          <!-- SSH Settings Card -->
          <div formGroupName="ssh" class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
            <button (click)="toggleSection('ssh')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
              <h2 class="text-xl font-bold text-gray-300 flex items-center">
                <i class="fa-solid fa-terminal mr-3 text-orange-400"></i>
                SSH Settings
              </h2>
              <i class="fa-solid transition-transform duration-300" [class]="sections.ssh() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
            </button>
            @if (sections.ssh()) {
              <div class="p-4 border-t border-gray-700">
                <div class="space-y-3">
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="sshEnabled" class="font-semibold text-gray-300">Server</label>
                    <button type="button" id="sshEnabled" (click)="onToggleButtonToggle('ssh.ENABLED')"
                      class="relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-800"
                      [class]="mainSettingsForm.get('ssh.ENABLED')?.value ? 'bg-orange-500' : 'bg-gray-600'" role="switch" [attr.aria-checked]="mainSettingsForm.get('ssh.ENABLED')?.value">
                      <span class="pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"
                        [class]="mainSettingsForm.get('ssh.ENABLED')?.value ? 'translate-x-5' : 'translate-x-0'">
                      </span>
                    </button>
                  </div>
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="sshPass" class="font-semibold text-gray-300">Password</label>
                    <input id="sshPass" formControlName="PASSWORD" type="password" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-48"
                      [class]="mainSettingsForm.get('ssh.PASSWORD')?.invalid && mainSettingsForm.get('ssh.PASSWORD')?.touched ? 'border-red-500' : 'border-gray-600'">
                  </div>
                </div>
              </div>
            }
          </div>

          <!-- System Settings Forms -->
          <div formGroupName="system" class="space-y-4">
            <!-- Watchdog Settings Card -->
            <div class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
              <button (click)="toggleSection('watchdog')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
                <h2 class="text-xl font-bold text-gray-300 flex items-center">
                  <i class="fa-solid fa-dog mr-3 text-orange-400"></i>
                  Watchdog Settings
                </h2>
                <i class="fa-solid transition-transform duration-300" [class]="sections.watchdog() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
              </button>
              @if (sections.watchdog()) {
                <div class="p-4 border-t border-gray-700 space-y-3">
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="watchdogEnabled" class="font-semibold text-gray-300">System Watchdog</label>
                    <button type="button" id="watchdogEnabled" (click)="onToggleButtonToggle('system.WATCHDOG')"
                      class="relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-800"
                      [class]="mainSettingsForm.get('system.WATCHDOG')?.value ? 'bg-orange-500' : 'bg-gray-600'" role="switch" [attr.aria-checked]="mainSettingsForm.get('system.WATCHDOG')?.value">
                      <span class="pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"
                        [class]="mainSettingsForm.get('system.WATCHDOG')?.value ? 'translate-x-5' : 'translate-x-0'">
                      </span>
                    </button>
                  </div>
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="watchdogTimeout" class="font-semibold text-gray-300">Watchdog Timeout (sec)</label>
                    <input id="watchdogTimeout" formControlName="WATCHDOG_TIMEOUT" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24"
                      [class]="mainSettingsForm.get('system.WATCHDOG_TIMEOUT')?.invalid && mainSettingsForm.get('system.WATCHDOG_TIMEOUT')?.touched ? 'border-red-500' : 'border-gray-600'">
                  </div>
                  <div class="my-4 border-t border-gray-700/50"></div>
                  <h4 class="text-md font-semibold text-gray-400 mb-2 pl-1 flex items-center">
                    <i class="fa-solid fa-network-wired mr-3 text-orange-400"></i>
                    ICMP Watchdog (Ping)
                  </h4>
                  <div class="space-y-3">
                    <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                      <label for="watchdogIp" class="font-semibold text-gray-300">Target IP Address</label>
                      <input id="watchdogIp" formControlName="WATCHDOG_IP" type="text" placeholder="e.g. 192.168.1.1" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-48"
                        [class]="mainSettingsForm.get('system.WATCHDOG_IP')?.invalid && mainSettingsForm.get('system.WATCHDOG_IP')?.touched ? 'border-red-500' : 'border-gray-600'">
                    </div>
                    <p class="text-xs text-gray-500 px-3 -mt-3">Leave blank to disable this feature.</p>
                    <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                      <label for="watchdogIcmpInterval" class="font-semibold text-gray-300">Ping Interval (sec)</label>
                      <input id="watchdogIcmpInterval" formControlName="WATCHDOG_ICMP_INTERVAL" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24"
                        [class]="mainSettingsForm.get('system.WATCHDOG_ICMP_INTERVAL')?.invalid && mainSettingsForm.get('system.WATCHDOG_ICMP_INTERVAL')?.touched ? 'border-red-500' : 'border-gray-600'">
                  </div>
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="watchdogIcmpFailCount" class="font-semibold text-gray-300">Failure Count</label>
                    <input id="watchdogIcmpFailCount" formControlName="WATCHDOG_ICMP_FAIL_COUNT" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24"
                        [class]="mainSettingsForm.get('system.WATCHDOG_ICMP_FAIL_COUNT')?.invalid && mainSettingsForm.get('system.WATCHDOG_ICMP_FAIL_COUNT')?.touched ? 'border-red-500' : 'border-gray-600'">
                  </div>
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="watchdogIcmpDelay" class="font-semibold text-gray-300">Startup Delay (sec)</label>
                    <input id="watchdogIcmpDelay" formControlName="WATCHDOG_ICMP_DELAY" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24"
                      [class]="mainSettingsForm.get('system.WATCHDOG_ICMP_DELAY')?.invalid && mainSettingsForm.get('system.WATCHDOG_ICMP_DELAY')?.touched ? 'border-red-500' : 'border-gray-600'">
                  </div>
                </div>
                </div>
              }
            </div>

            <!-- SD Card Failure Settings Card -->
            <div class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
              <button (click)="toggleSection('sdCard')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
                <h2 class="text-xl font-bold text-gray-300 flex items-center">
                  <i class="fa-solid fa-sd-card mr-3 text-orange-400"></i>
                  SD Card Failure Settings
                </h2>
                <i class="fa-solid transition-transform duration-300" [class]="sections.sdCard() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
              </button>
              @if (sections.sdCard()) {
                <div class="p-4 border-t border-gray-700 space-y-3">
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="sdRebootEnabled" class="font-semibold text-gray-300">Reboot on Failure</label>
                    <button type="button" id="sdRebootEnabled" (click)="onToggleButtonToggle('system.FAILURE_SD_REBOOT')"
                      class="relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-800"
                      [class]="mainSettingsForm.get('system.FAILURE_SD_REBOOT')?.value ? 'bg-orange-500' : 'bg-gray-600'" role="switch" [attr.aria-checked]="mainSettingsForm.get('system.FAILURE_SD_REBOOT')?.value">
                      <span class="pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"
                        [class]="mainSettingsForm.get('system.FAILURE_SD_REBOOT')?.value ? 'translate-x-5' : 'translate-x-0'">
                      </span>
                    </button>
                  </div>
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="sdRebootTimeout" class="font-semibold text-gray-300">Reboot Timeout (sec)</label>
                    <input id="sdRebootTimeout" formControlName="FAILURE_SD_REBOOT_TIMEOUT" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24"
                      [class]="mainSettingsForm.get('system.FAILURE_SD_REBOOT_TIMEOUT')?.invalid && mainSettingsForm.get('system.FAILURE_SD_REBOOT_TIMEOUT')?.touched ? 'border-red-500' : 'border-gray-600'">
                  </div>
                </div>
              }
            </div>
            
            <!-- Software Update Settings Card -->
            <div class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
              <button (click)="toggleSection('software')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
                <h2 class="text-xl font-bold text-gray-300 flex items-center">
                  <i class="fa-solid fa-rocket mr-3 text-orange-400"></i>
                  Software Update Settings
                </h2>
                <i class="fa-solid transition-transform duration-300" [class]="sections.software() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
              </button>
              @if (sections.software()) {
                <div class="p-4 border-t border-gray-700 space-y-3">
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="firmwareUpdateEnabled" class="font-semibold text-gray-300">Check for Updates</label>
                    <button type="button" id="firmwareUpdateEnabled" (click)="onToggleButtonToggle('system.FIRMWARE')"
                      class="relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-800"
                      [class]="mainSettingsForm.get('system.FIRMWARE')?.value ? 'bg-orange-500' : 'bg-gray-600'" role="switch" [attr.aria-checked]="mainSettingsForm.get('system.FIRMWARE')?.value">
                      <span class="pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"
                        [class]="mainSettingsForm.get('system.FIRMWARE')?.value ? 'translate-x-5' : 'translate-x-0'">
                      </span>
                    </button>
                  </div>
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="firmwareUpdateTime" class="font-semibold text-gray-300">Check Interval (min)</label>
                    <input id="firmwareUpdateTime" formControlName="FIRMWARE_TIME" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24"
                      [class]="mainSettingsForm.get('system.FIRMWARE_TIME')?.invalid && mainSettingsForm.get('system.FIRMWARE_TIME')?.touched ? 'border-red-500' : 'border-gray-600'">
                  </div>
                </div>
              }
            </div>

            <!-- General System Settings Card -->
            <div class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
              <button (click)="toggleSection('generalSystem')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
                <h2 class="text-xl font-bold text-gray-300 flex items-center">
                  <i class="fa-solid fa-cogs mr-3 text-orange-400"></i>
                  General System Settings
                </h2>
                <i class="fa-solid transition-transform duration-300" [class]="sections.generalSystem() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
              </button>
              @if (sections.generalSystem()) {
                <div class="p-4 border-t border-gray-700 space-y-3">
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="voltagePin" class="font-semibold text-gray-300">Voltage Monitoring Pin</label>
                    <input id="voltagePin" formControlName="VOLTAGE_MONITORING_PIN" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24"
                      [class]="mainSettingsForm.get('system.VOLTAGE_MONITORING_PIN')?.invalid && mainSettingsForm.get('system.VOLTAGE_MONITORING_PIN')?.touched ? 'border-red-500' : 'border-gray-600'">
                  </div>
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="shutdownPin" class="font-semibold text-gray-300">Shutdown Pin</label>
                    <input id="shutdownPin" formControlName="PIN_SHUTDOWN" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24"
                      [class]="mainSettingsForm.get('system.PIN_SHUTDOWN')?.invalid && mainSettingsForm.get('system.PIN_SHUTDOWN')?.touched ? 'border-red-500' : 'border-gray-600'">
                  </div>
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="textSelection" class="font-semibold text-gray-300">Enable Text Selection</label>
                    <button type="button" id="textSelection" (click)="onToggleButtonToggle('system.TEXT_SELECTION_ENABLED')"
                      class="relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-800"
                      [class]="mainSettingsForm.get('system.TEXT_SELECTION_ENABLED')?.value ? 'bg-orange-500' : 'bg-gray-600'" role="switch" [attr.aria-checked]="mainSettingsForm.get('system.TEXT_SELECTION_ENABLED')?.value">
                      <span class="pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"
                        [class]="mainSettingsForm.get('system.TEXT_SELECTION_ENABLED')?.value ? 'translate-x-5' : 'translate-x-0'">
                      </span>
                    </button>
                  </div>
                   <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="buzzerEnabled" class="font-semibold text-gray-300">Audible Feedback (Buzzer)</label>
                    <button type="button" (click)="toggleBuzzer(); mainSettingsForm.markAsDirty()"
                      class="relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-800"
                      [class]="buzzerEnabled() ? 'bg-orange-500' : 'bg-gray-600'" role="switch" [attr.aria-checked]="buzzerEnabled()">
                      <span class="pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"
                        [class]="buzzerEnabled() ? 'translate-x-5' : 'translate-x-0'">
                      </span>
                    </button>
                  </div>
                </div>
              }
            </div>

            <!-- ESP32 Settings Card -->
            <div class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
              <button (click)="toggleSection('esp32')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
                <h2 class="text-xl font-bold text-gray-300 flex items-center">
                  <i class="fa-solid fa-microchip mr-3 text-orange-400"></i>
                  ESP32 Settings
                </h2>
                <i class="fa-solid transition-transform duration-300" [class]="sections.esp32() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
              </button>
              @if (sections.esp32()) {
                <div class="p-4 border-t border-gray-700 space-y-3">
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="websocketUrl" class="font-semibold text-gray-300">WebSocket URL</label>
                    <input id="websocketUrl" formControlName="WEBSOCKET_URL" type="text" placeholder="ws://192.168.1.20/ws" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-64"
                      [class]="mainSettingsForm.get('system.WEBSOCKET_URL')?.invalid && mainSettingsForm.get('system.WEBSOCKET_URL')?.touched ? 'border-red-500' : 'border-gray-600'">
                  </div>
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="configChangeTimeout" class="font-semibold text-gray-300">Config Change Timeout (sec)</label>
                    <input id="configChangeTimeout" formControlName="CONFIG_CHANGE_TIMEOUT" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24"
                      [class]="mainSettingsForm.get('system.CONFIG_CHANGE_TIMEOUT')?.invalid && mainSettingsForm.get('system.CONFIG_CHANGE_TIMEOUT')?.touched ? 'border-red-500' : 'border-gray-600'">
                  </div>
                </div>
              }
            </div>

            <!-- Security Settings Card -->
            <div class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
              <button (click)="toggleSection('security')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
                <h2 class="text-xl font-bold text-gray-300 flex items-center">
                  <i class="fa-solid fa-shield-alt mr-3 text-orange-400"></i>
                  Security Settings
                </h2>
                <i class="fa-solid transition-transform duration-300" [class]="sections.security() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
              </button>
              @if (sections.security()) {
                <div class="p-4 border-t border-gray-700 space-y-3">
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="accessCode" class="font-semibold text-gray-300">Access Code (4 digits)</label>
                    <input id="accessCode" formControlName="ACCESS_CODE" type="password" placeholder="Leave blank to keep current" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-48 disabled:opacity-50 disabled:cursor-not-allowed"
                      [class]="mainSettingsForm.get('system.ACCESS_CODE')?.invalid && mainSettingsForm.get('system.ACCESS_CODE')?.touched ? 'border-red-500' : 'border-gray-600'">
                  </div>
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="confirmAccessCode" class="font-semibold text-gray-300">Confirm Access Code</label>
                    <input id="confirmAccessCode" formControlName="CONFIRM_ACCESS_CODE" type="password" placeholder="Confirm new code" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-48 disabled:opacity-50 disabled:cursor-not-allowed"
                      [class]="mainSettingsForm.hasError('accessCodeMismatch') && mainSettingsForm.get('system.CONFIRM_ACCESS_CODE')?.touched ? 'border-red-500' : 'border-gray-600'">
                  </div>
                  @if (mainSettingsForm.hasError('accessCodeMismatch') && mainSettingsForm.get('system.CONFIRM_ACCESS_CODE')?.touched) {
                    <p class="text-xs text-red-400 text-right -mt-2">Access codes do not match.</p>
                  }
                  @if (mainSettingsForm.hasError('confirmMustBeBlank') && mainSettingsForm.get('system.CONFIRM_ACCESS_CODE')?.touched) {
                    <p class="text-xs text-red-400 text-right -mt-2">Confirmation must be blank if Access Code is blank.</p>
                  }
                  <p class="text-xs text-gray-500 px-3 -mt-3">Enter a new code to change it. Leave both fields blank to keep your existing code. This can only be changed in Admin Mode.</p>
                </div>
              }
            </div>
          </div>
        </div>
        <!-- Column 2 -->
        <div class="space-y-4">
          <!-- Remote Config Settings Card -->
          <div formGroupName="remote" class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
            <button (click)="toggleSection('remoteConfig')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
              <h2 class="text-xl font-bold text-gray-300 flex items-center">
                <i class="fa-solid fa-cloud-arrow-down mr-3 text-orange-400"></i>
                Remote Config
              </h2>
              <i class="fa-solid transition-transform duration-300" [class]="sections.remoteConfig() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
            </button>
            @if (sections.remoteConfig()) {
              <div class="p-4 border-t border-gray-700 space-y-3">
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="remoteConfigEnabled" class="font-semibold text-gray-300">Enable Remote Config</label>
                  <button type="button" id="remoteConfigEnabled" (click)="onToggleButtonToggle('remote.ENABLED')"
                    class="relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-800"
                    [class]="mainSettingsForm.get('remote.ENABLED')?.value ? 'bg-orange-500' : 'bg-gray-600'" role="switch" [attr.aria-checked]="mainSettingsForm.get('remote.ENABLED')?.value">
                    <span class="pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"
                      [class]="mainSettingsForm.get('remote.ENABLED')?.value ? 'translate-x-5' : 'translate-x-0'">
                    </span>
                  </button>
                </div>
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg" [class.opacity-50]="!mainSettingsForm.get('remote.ENABLED')?.value">
                  <label for="remoteConfigUrl" class="font-semibold text-gray-300">Config URL</label>
                  <input id="remoteConfigUrl" formControlName="URL" type="url" placeholder="https://example.com/config.json" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-64"
                    [class]="mainSettingsForm.get('remote.URL')?.invalid && mainSettingsForm.get('remote.URL')?.touched ? 'border-red-500' : 'border-gray-600'">
                </div>
              </div>
            }
          </div>

          <!-- Internet Monitoring Card -->
          <div formGroupName="internetMonitoring" class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
            <button (click)="toggleSection('internetMonitoring')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
              <h2 class="text-xl font-bold text-gray-300 flex items-center">
                <i class="fa-solid fa-earth-americas mr-3 text-orange-400"></i>
                Internet Monitoring
              </h2>
              <i class="fa-solid transition-transform duration-300" [class]="sections.internetMonitoring() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
            </button>
            @if (sections.internetMonitoring()) {
              <div class="p-4 border-t border-gray-700 space-y-3">
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="pingEnabled" class="font-semibold text-gray-300">Enable Ping Check</label>
                  <button type="button" id="pingEnabled" (click)="onToggleButtonToggle('internetMonitoring.PING_ENABLED')"
                    class="relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-800"
                    [class]="mainSettingsForm.get('internetMonitoring.PING_ENABLED')?.value ? 'bg-orange-500' : 'bg-gray-600'" role="switch" [attr.aria-checked]="mainSettingsForm.get('internetMonitoring.PING_ENABLED')?.value">
                    <span class="pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"
                      [class]="mainSettingsForm.get('internetMonitoring.PING_ENABLED')?.value ? 'translate-x-5' : 'translate-x-0'">
                    </span>
                  </button>
                </div>
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="pingTarget" class="font-semibold text-gray-300">Ping Target</label>
                  <input id="pingTarget" formControlName="PING_TARGET" type="text" placeholder="e.g., 8.8.8.8" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-48"
                    [class]="mainSettingsForm.get('internetMonitoring.PING_TARGET')?.invalid && mainSettingsForm.get('internetMonitoring.PING_TARGET')?.touched ? 'border-red-500' : 'border-gray-600'">
                </div>
              </div>
            }
          </div>

          <!-- Storage Monitoring Card -->
          <div formGroupName="storage" class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
            <button (click)="toggleSection('storage')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
              <h2 class="text-xl font-bold text-gray-300 flex items-center">
                <i class="fa-solid fa-hdd mr-3 text-orange-400"></i>
                Storage Monitoring
              </h2>
              <i class="fa-solid transition-transform duration-300" [class]="sections.storage() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
            </button>
            @if (sections.storage()) {
              <div class="p-4 border-t border-gray-700 space-y-3">
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="sdCardThreshold" class="font-semibold text-gray-300">SD Card Threshold (%)</label>
                  <input id="sdCardThreshold" formControlName="SD_CARD_THRESHOLD" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24">
                </div>
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="localStorageThreshold" class="font-semibold text-gray-300">Local Storage Threshold (%)</label>
                  <input id="localStorageThreshold" formControlName="LOCAL_STORAGE_THRESHOLD" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24">
                </div>
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="sramThreshold" class="font-semibold text-gray-300">SRAM Threshold (%)</label>
                  <input id="sramThreshold" formControlName="SRAM_THRESHOLD" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24">
                </div>
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="eepromThreshold" class="font-semibold text-gray-300">EEPROM Threshold (%)</label>
                  <input id="eepromThreshold" formControlName="EEPROM_THRESHOLD" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24">
                </div>
              </div>
            }
          </div>
          
          <!-- Servo and RS485 Settings Cards -->
          <div formGroupName="servos" class="space-y-4">
            <!-- Servo Settings Card -->
            <div class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
              <button (click)="toggleSection('servo')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
                <h2 class="text-xl font-bold text-gray-300 flex items-center">
                  <i class="fa-solid fa-robot mr-3 text-orange-400"></i>
                  Servo Settings
                </h2>
                <i class="fa-solid transition-transform duration-300" [class]="sections.servo() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
              </button>
              @if (sections.servo()) {
                <div class="p-4 border-t border-gray-700 space-y-3">
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="slaveIdX" class="font-semibold text-gray-300">Slave ID X</label>
                    <input id="slaveIdX" formControlName="SLAVE_ID_X" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24">
                  </div>
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="slaveIdY" class="font-semibold text-gray-300">Slave ID Y</label>
                    <input id="slaveIdY" formControlName="SLAVE_ID_Y" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24">
                  </div>
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="slaveIdYY" class="font-semibold text-gray-300">Slave ID YY</label>
                    <input id="slaveIdYY" formControlName="SLAVE_ID_YY" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24">
                  </div>
                  <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                    <label for="slaveIdZ" class="font-semibold text-gray-300">Slave ID Z</label>
                    <input id="slaveIdZ" formControlName="SLAVE_ID_Z" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24">
                  </div>
                </div>
              }
            </div>
            <!-- RS485 Settings Card -->
            <div class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
              <button (click)="toggleSection('rs485')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
                <h2 class="text-xl font-bold text-gray-300 flex items-center">
                  <i class="fa-solid fa-tty mr-3 text-orange-400"></i>
                  RS485 Settings
                </h2>
                <i class="fa-solid transition-transform duration-300" [class]="sections.rs485() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
              </button>
              @if (sections.rs485()) {
                <div class="p-4 border-t border-gray-700 space-y-3">
                  <div class="p-2 bg-gray-900/50 rounded-lg">
                    <label for="modbusTimeout" class="font-semibold text-gray-300 mb-2 block">Modbus Timeout (ms)</label>
                    <div class="flex items-center space-x-4">
                      <input id="modbusTimeout" type="range" formControlName="MODBUS_TIMEOUT" min="100" max="2000" step="50" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-orange-500">
                      <span class="font-mono text-orange-300 w-20 text-center">{{ mainSettingsForm.get('servos.MODBUS_TIMEOUT')?.value }}ms</span>
                    </div>
                  </div>
                </div>
              }
            </div>
          </div>
          
          <!-- Table Settings Card -->
          <div formGroupName="table" class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
            <button (click)="toggleSection('table')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
              <h2 class="text-xl font-bold text-gray-300 flex items-center">
                <i class="fa-solid fa-ruler-combined mr-3 text-orange-400"></i>
                Table Rail Settings
              </h2>
              <i class="fa-solid transition-transform duration-300" [class]="sections.table() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
            </button>
            @if (sections.table()) {
              <div class="p-4 border-t border-gray-700 space-y-3">
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="railX" class="font-semibold text-gray-300">Rail X (mm)</label>
                  <input id="railX" formControlName="RAIL_X" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24">
                </div>
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="railY" class="font-semibold text-gray-300">Rail Y (mm)</label>
                  <input id="railY" formControlName="RAIL_Y" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24">
                </div>
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="railZ" class="font-semibold text-gray-300">Rail Z (mm)</label>
                  <input id="railZ" formControlName="RAIL_Z" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24">
                </div>
              </div>
            }
          </div>

          <!-- LED Settings Card -->
          <div formGroupName="leds" class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
            <button (click)="toggleSection('leds')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
              <h2 class="text-xl font-bold text-gray-300 flex items-center">
                <i class="fa-solid fa-lightbulb mr-3 text-orange-400"></i>
                LED Settings
              </h2>
              <i class="fa-solid transition-transform duration-300" [class]="sections.leds() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
            </button>
            @if (sections.leds()) {
              <div class="p-4 border-t border-gray-700 space-y-3">
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="ledCountX" class="font-semibold text-gray-300">LED Count X</label>
                  <input id="ledCountX" formControlName="COUNT_X" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24">
                </div>
                <!-- ... other LED settings ... -->
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="dynamicBrightness" class="font-semibold text-gray-300">Dynamic Brightness</label>
                  <button type="button" id="dynamicBrightness" (click)="onToggleButtonToggle('leds.DYNAMIC_BRIGHTNESS_ENABLED')"
                    class="relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-800"
                    [class]="mainSettingsForm.get('leds.DYNAMIC_BRIGHTNESS_ENABLED')?.value ? 'bg-orange-500' : 'bg-gray-600'">
                    <span class="pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"
                      [class]="mainSettingsForm.get('leds.DYNAMIC_BRIGHTNESS_ENABLED')?.value ? 'translate-x-5' : 'translate-x-0'">
                    </span>
                  </button>
                </div>
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="maxPower" class="font-semibold text-gray-300">Max Power (W)</label>
                  <input id="maxPower" formControlName="MAX_POWER_CONSUMPTION" type="number" class="bg-gray-700 border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2 font-mono text-right w-24">
                </div>
                <div class="p-2 bg-gray-900/50 rounded-lg">
                  <label for="powerWarningThreshold" class="font-semibold text-gray-300 mb-2 block">Power Warning Threshold (%)</label>
                  <div class="flex items-center space-x-4">
                    <input id="powerWarningThreshold" type="range" formControlName="POWER_WARNING_THRESHOLD" min="5" max="30" step="5" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-orange-500">
                    <span class="font-mono text-orange-300 w-12 text-center">{{ mainSettingsForm.get('leds.POWER_WARNING_THRESHOLD')?.value }}%</span>
                  </div>
                </div>
              </div>
            }
          </div>

          <!-- Alexa Settings Card -->
          <div formGroupName="alexa" class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
            <button (click)="toggleSection('alexa')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
              <h2 class="text-xl font-bold text-gray-300 flex items-center">
                <i class="fa-brands fa-amazon mr-3 text-orange-400"></i>
                Alexa Settings
              </h2>
              <i class="fa-solid transition-transform duration-300" [class]="sections.alexa() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
            </button>
            @if (sections.alexa()) {
              <div class="p-4 border-t border-gray-700 space-y-3">
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="alexaEnabled" class="font-semibold text-gray-300">Enable Alexa</label>
                  <button type="button" id="alexaEnabled" (click)="onToggleButtonToggle('alexa.ENABLED')"
                    class="relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-800"
                    [class]="mainSettingsForm.get('alexa.ENABLED')?.value ? 'bg-orange-500' : 'bg-gray-600'">
                    <span class="pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"
                      [class]="mainSettingsForm.get('alexa.ENABLED')?.value ? 'translate-x-5' : 'translate-x-0'">
                    </span>
                  </button>
                </div>
                 <!-- Announcement Settings -->
                <div class="p-2 bg-gray-900/50 rounded-lg" [class.opacity-50]="!mainSettingsForm.get('alexa.ENABLED')?.value">
                  <h4 class="text-md font-semibold text-gray-400 mb-2">Announcements</h4>
                  <div class="flex items-center justify-between">
                    <label for="announceBanners" class="font-semibold text-gray-300 text-sm">Show Banners</label>
                    <button type="button" id="announceBanners" (click)="onToggleButtonToggle('alexa.ANNOUNCE_BANNERS_ENABLED')"
                            class="relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out"
                            [class]="mainSettingsForm.get('alexa.ANNOUNCE_BANNERS_ENABLED')?.value ? 'bg-orange-500' : 'bg-gray-600'">
                        <span class="pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"
                              [class]="mainSettingsForm.get('alexa.ANNOUNCE_BANNERS_ENABLED')?.value ? 'translate-x-5' : 'translate-x-0'"></span>
                    </button>
                  </div>
                  <div formArrayName="ANNOUNCEMENT_TYPES" class="mt-3 space-y-2">
                    @for (typeControl of announcementTypes.controls; track $index) {
                      <div [formGroupName]="$index" class="flex items-center justify-between text-sm">
                        <label [for]="'announce-' + typeControl.get('key')?.value" class="text-gray-400">{{ typeControl.get('description')?.value }}</label>
                        <button type="button" [id]="'announce-' + typeControl.get('key')?.value" (click)="toggleAnnouncementTypeEnabled($index)"
                                class="relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out"
                                [class]="typeControl.get('enabled')?.value ? 'bg-green-500' : 'bg-gray-600'">
                            <span class="pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"
                                  [class]="typeControl.get('enabled')?.value ? 'translate-x-4' : 'translate-x-0'"></span>
                        </button>
                      </div>
                    }
                  </div>
                </div>
              </div>
            }
          </div>
          <!-- Language Settings Card -->
          <div class="bg-gray-800/50 border border-gray-700 rounded-lg shadow-lg overflow-hidden">
            <button (click)="toggleSection('language')" type="button" class="w-full text-left p-3 flex justify-between items-center bg-gray-900/50 hover:bg-gray-900/80 transition-colors duration-200">
              <h2 class="text-xl font-bold text-gray-300 flex items-center">
                <i class="fa-solid fa-language mr-3 text-orange-400"></i>
                {{ 'settings.language.title' | translate }}
              </h2>
              <i class="fa-solid transition-transform duration-300" [class]="sections.language() ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
            </button>
            @if (sections.language()) {
              <div class="p-4 border-t border-gray-700 space-y-3">
                <div class="flex items-center justify-between p-2 bg-gray-900/50 rounded-lg">
                  <label for="languageSelect" class="font-semibold text-gray-300">{{ 'settings.language.label' | translate }}</label>
                  <select id="languageSelect"
                          [value]="languageService.currentLang()"
                          (change)="setLanguage($event)"
                          class="bg-gray-700 border border-gray-600 text-gray-200 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block p-2.5 font-mono uppercase">
                    @for(lang of languageService.availableLangs(); track lang) {
                      <option [value]="lang">{{ lang }}</option>
                    }
                  </select>
                </div>
              </div>
            }
          </div>
        </div>
      </div>
    </form>
  </div>
</main>